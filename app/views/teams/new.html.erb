<% content_for(:page_class) { 'lg:w-[36rem] mt-8' } %>
<h2 class="text-label text-divider-center mb-1">
  新しいチーム
</h2>
<div class="sheet-form">
  <%= form_with model: @form, scope: :form, url: teams_path do |f| %>
    <div class="flex flex-col gap-2 mb-3">
      <div class="flex flex-col">
        <%= f.label :name %>
        <%= f.text_field :name, class: 'form-control', autocomplete: 'off' %>
      </div>
      <div class="flex flex-col">
        <%= f.label :roles %>
        <%= f.fields_for :roles do |rf| %>
          <div>
            <% role_name = f.object.role_name_at(rf.index) %>
            <%= rf.check_box :role, { class: 'form-control' }, role_name, '' %>
            <%= rf.label :role, t(role_name, scope: [:activerecord, :enums, :team_member_roles, :roles]), class: 'toggle-label' %>
          </div>
        <% end -%>
        <div class="mt-1 error-message">
          <% @form.errors.full_messages_for(:roles).each do |msg| %>
            <p><%= msg %></p>
          <% end -%>
        </div>
      </div>
    </div>
    <%= f.button class: 'btn btn-primary' %>
  <% end -%>
</div>
<%= link_to(dashboard_path, class: 'mt-3 link') { icon_with_text :reply, t('helpers.nav.back') } %>
